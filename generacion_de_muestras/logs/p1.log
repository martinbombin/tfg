/PREP7

FX = 0
FY = 0

ANCHURA = 1e-3
ALTURA = 0.75e-3

C*** Geometr√≠a del rectangulo(mod) 
RECTNG,0,ANCHURA,0,ALTURA, 
   
C*** Tipo de material   
ET,1,PLANE182   

C*** Atributos del material 
MPTEMP,,,,,,,,  
MPTEMP,1,0  
MPDATA,EX,1,,70e9   
MPDATA,PRXY,1,,0.3  

C*** Divisiones para el mallado 
ESIZE,0.03125e-3,0, 
MSHAPE,0,2D 
MSHKEY,1
AMESH,ALL   

C*** Sujecion
FLST,2,1,4,ORDE,1   
FITEM,2,4   
!*  
/GO 
DL,P51X, ,ALL,  

C*** fuerza en x (mod)  
FLST,2,1,4,ORDE,1   
FITEM,2,2   
/GO 
!*  
SFL,P51X,PRES,-FX,   

C*** fuerza en y (mod)  
LSEL,S, , ,       2 
NSLL,R,1
FLST,2,25,1,ORDE,3  
FITEM,2,2   
FITEM,2,34  
FITEM,2,-57 
!*  
/GO 
F,P51X,FY,FY
ALLSEL,ALL

FINISH  
/SOL
SOLVE

C*** Crea tabla de von misses
FINISH  
/POST1  
SET, FIRST
AVPRIN,0, , 
ETABLE, ,S,EQV
!*

C***
*VGET,von,ELEM, ,ETAB,SEQV, , ,2

*VGET,elem1,ELEM, ,NODE,1, , ,2 
*VGET,elem2,ELEM, ,NODE,2, , ,2 
*VGET,elem3,ELEM, ,NODE,3, , ,2 
*VGET,elem4,ELEM, ,NODE,4, , ,2 

*VGET,xcord,NODE, ,LOC,X, , ,2
*VGET,ycord,NODE, ,LOC,Y, , ,2

*CREATE,ansuitmp

*CFOPEN,'von','txt',' ' 
*VWRITE,von(1,1), , , , , , , , ,   
(E16.10)
*CFCLOS 

*CFOPEN,'elements','txt',' '
*VWRITE,elem1(1,1), elem2(1,1), elem3(1,1), elem4(1,1), , , , , ,   
(F10.0,' ',F10.0,' ',F10.0,' ',F10.0)   
*CFCLOS 

*CFOPEN,'nodes','txt',' '
*VWRITE, xcord(1,1), ycord(1,1), , , , , , , ,   
(E16.10,' ',E16.10)
*CFCLOS 

*END
/INPUT,ansuitmp 
!*  
C*** ! /EXIT,ALL
