/PREP7

FX = 0
FY = 0

C*** Geometr√≠a de la cosa(mod) 
RECTNG,0,32*0.03125e-3,0,13*0.03125e-3,
RECTNG,0,30*0.03125e-3,13*0.03125e-3,14*0.03125e-3,
RECTNG,0,29*0.03125e-3,14*0.03125e-3,15*0.03125e-3,
RECTNG,0,27*0.03125e-3,15*0.03125e-3,16*0.03125e-3,
RECTNG,0,26*0.03125e-3,16*0.03125e-3,17*0.03125e-3,
RECTNG,0,24*0.03125e-3,17*0.03125e-3,18*0.03125e-3,
RECTNG,0,22*0.03125e-3,18*0.03125e-3,19*0.03125e-3,
RECTNG,0,20*0.03125e-3,19*0.03125e-3,20*0.03125e-3,
RECTNG,0,17*0.03125e-3,20*0.03125e-3,21*0.03125e-3,
RECTNG,0,14*0.03125e-3,21*0.03125e-3,22*0.03125e-3,
RECTNG,0,11*0.03125e-3,22*0.03125e-3,23*0.03125e-3,
RECTNG,1*0.03125e-3,2*0.03125e-3,0.00075-0.03125e-3,0.00075,

FLST,2,12,5,ORDE,2  
FITEM,2,1   
FITEM,2,-12 
AGLUE,P51X

C*** Tipo de material   
ET,1,PLANE182   

C*** Atributos del material 
MPTEMP,,,,,,,,  
MPTEMP,1,0  
MPDATA,EX,1,,70e9   
MPDATA,PRXY,1,,0.3  

C*** Mallado
FLST,2,12,5,ORDE,2  
FITEM,2,12  
FITEM,2,-23 
AESIZE,P51X,0.03125e-3, 
MSHAPE,0,2D 
MSHKEY,0
!*  
FLST,5,12,5,ORDE,2  
FITEM,5,12  
FITEM,5,-23 
CM,_Y,AREA  
ASEL, , , ,P51X 
CM,_Y1,AREA 
CHKMSH,'AREA'   
CMSEL,S,_Y  
!*  
AMESH,_Y1   
!*  
CMDELE,_Y   
CMDELE,_Y1  
CMDELE,_Y2  
!*  

C*** Sujecion
FLST,2,11,4,ORDE,11 
FITEM,2,4   
FITEM,2,51  
FITEM,2,54  
FITEM,2,57  
FITEM,2,60  
FITEM,2,63  
FITEM,2,66  
FITEM,2,69  
FITEM,2,72  
FITEM,2,75  
FITEM,2,78  
!*  
/GO 
DL,P51X, ,ALL,   

C*** fuerza en x (mod)  
FLST,2,1,4,ORDE,1   
FITEM,2,2   
/GO 
!*  
SFL,P51X,PRES,-FX,

C*** fuerza en y (mod)  
FLST,2,14,1,ORDE,3  
FITEM,2,6   
FITEM,2,38  
FITEM,2,-50 
!*  
/GO 
F,P51X,FY,FY 

FINISH  
/SOL
SOLVE

C*** Crea tabla de von misses
FINISH  
/POST1  
SET, FIRST
AVPRIN,0, , 
ETABLE, ,S,EQV
!*

C***
*VGET,von,ELEM, ,ETAB,SEQV, , ,2

*VGET,elem1,ELEM, ,NODE,1, , ,2 
*VGET,elem2,ELEM, ,NODE,2, , ,2 
*VGET,elem3,ELEM, ,NODE,3, , ,2 
*VGET,elem4,ELEM, ,NODE,4, , ,2 

*VGET,xcord,NODE, ,LOC,X, , ,2
*VGET,ycord,NODE, ,LOC,Y, , ,2

*CREATE,ansuitmp

*CFOPEN,'von','txt',' ' 
*VWRITE,von(1,1), , , , , , , , ,   
(E16.10)
*CFCLOS 

*CFOPEN,'elements','txt',' '
*VWRITE,elem1(1,1), elem2(1,1), elem3(1,1), elem4(1,1), , , , , ,   
(F10.0,' ',F10.0,' ',F10.0,' ',F10.0)   
*CFCLOS 

*CFOPEN,'nodes','txt',' '
*VWRITE, xcord(1,1), ycord(1,1), , , , , , , ,   
(E16.10,' ',E16.10)
*CFCLOS 

*END
/INPUT,ansuitmp 
!*  
C*** ! /EXIT,ALL
